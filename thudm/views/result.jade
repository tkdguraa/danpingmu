html
  head
  body
    script(src='/js/ajax.js')
    script(type='text/javascript').
      var candidate = !{candidate != null? JSON.stringify(candidate): 'null'};
      var title = !{title!= null? JSON.stringify(title): 'null'};
      console.log('title: ', title);
      var winner = new Array; 
      $(document).ready(function(){
        console.log(candidate.title);
       
        $('div.theme').text(candidate.title); 
        console.log(candidate);
        for(var i = 0; i < candidate.options.length; i++){
          winner[i] = i;
          if(candidate.result[i] == undefined){
            candidate.result[i] = "0";
          }
        }
        console.log(candidate.result);
        for(var i = 0; i < candidate.options.length; i++)
          for(var j = i; j < candidate.options.length; j++){
            console.log("i",candidate.result[winner[i]],"j",candidate.result[winner[j]]);
            if(parseInt(candidate.result[winner[i]],10) < parseInt(candidate.result[winner[j]],10)){
              var temp = winner[i];
              winner[i] = winner[j];
              winner[j] = temp;
            }
            console.log(winner);
          }
         console.log(winner);
         for(var i = 0;i < 3; i++){
           $('#pic' + (i + 1)).attr('src',candidate.pic_urls[winner[i]]);
           $('#name' + (i + 1)).text(candidate.options[winner[i]]);
           $('#score' + (i + 1)).text(candidate.result[winner[i]] + 'ç¥¨');
         }
      });
    .theme
    .total
      #slot2.slot
        #second.candidate
          .rank
            img.prize(src='/images/secondprize.png')
          .profile
            img#pic2.pic()
          #name2.name
            | haha
          #score2.score
            | haha
      #slot1.slot
        #first.candidate
          .rank
            img.prize(src='/images/firstprize.png')
          .profile
            img#pic1.pic()
          #name1.name
            | haha
          #score1.score
            | haha
      #slot3.slot
        #second.candidate
          .rank
            img.prize(src='/images/thirdprize.png')
          .profile
            img#pic3.pic()
          #name3.name
            | haha
          #score3.score
            | haha
    style.
      .theme{
      position:relative;
      text-align:center;
      width:100%;
      height:auto;
      font-weight:800;
      font-size:4vw;
      }
      .total{
      position:relative;
      left:10%;
      height:80%;
      width:80%;
      }
      .rank{
      position:relative;
      width:100%;
      height:auto;
      text-align:center;
      }
      .prize{
      position:relative;
      width:80%;
      }
      .profile{
      position:relative;
      text-align:center;
      height:auto;
      width:100%;
      }
      #pic2{
      position:relative;
      height:90%;
      width:80%;
      border-radius:20px;
      }
      #pic3{
      position:relative;
      height:90%;
      width:80%;
      border-radius:20px;
      }
      #pic1{
      position:relative;
      height:120%;
      width:90%;
      border-radius:20px;
      }
      .candidate{
      position:relative;
      height:40%;
      width:100%;
      }
      .slot{
      position:relative;
      float:left;
      height:100%;
      }
      .name{
      position:relative;
      text-align:center;
      font-weight:800;
      font-size:4vw;
      }
      .score{
      position:relative;
      text-align:center;
      font-weight:800;
      font-size:4vw;
      }
      #second{
      position:relative;
      top:20%;
      }
      #third{
      position:relative;
      top:20%;
      }
      #slot2{
      width:30%;
      text-align:right;
      }
      #slot1{
      width:40%;
      text-align:center;
      }
      #slot3{
      width:30%;
      text-align:lefts;
      }
